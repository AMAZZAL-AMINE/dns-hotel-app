import { Response } from 'node-fetch';
import { UploadSessionType } from './graphql/generated';
import { PresignedPost } from './graphql/mutations/UploadSessionMutation';
import { ProgressHandler } from './utils/progress';
export declare function uploadFileAtPathToS3Async(type: UploadSessionType, path: string, handleProgressEvent: ProgressHandler): Promise<{
    url: string;
    bucketKey: string;
}>;
export declare function uploadWithPresignedPostWithRetryAsync(file: string, presignedPost: PresignedPost): Promise<Response>;
/**
 * S3 returns broken URLs, sth like:
 * https://submission-service-archives.s3.amazonaws.com/production%2Fdc98ca84-1473-4cb3-ae81-8c7b291cb27e%2F4424aa95-b985-4e2f-8755-9507b1037c1c
 * This function replaces %2F with /.
 */
export declare function fixS3Url(archiveUrl: string): string;
